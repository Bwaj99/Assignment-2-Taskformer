# STEP 3 (Email/SMS Platform Integration)

import smtplib
from email.mime.text import MIMEText

# Email sending function
# SMTP server details (replace these with actual SMTP server credentials)

def send_email(subject, message, recipient_email):
    smtp_server = 'smtp.example.com'
    smtp_port = 587
    smtp_user = 'you@example.com'
    smtp_password = 'your_password'
    
# Create the MIMEText object to represent the email message

    msg = MIMEText(message)
    msg['Subject'] = subject
    msg['From'] = smtp_user
    msg['To'] = recipient_email

# Start the connection to the SMTP server and send the email

    with smtplib.SMTP(smtp_server, smtp_port) as server:
        server.starttls() # Start TLS encryption to secure the connection
        server.login(smtp_user, smtp_password) # Log in to the SMTP server using your email credentials
        server.sendmail(smtp_user, recipient_email, msg.as_string())

# Example usage
subject = "Introducing Taskformer"
for i, message in enumerate(messages):
    recipient_email = f'client{i}@example.com'
    send_email(subject, message, recipient_email)
